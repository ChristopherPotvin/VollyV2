@using VollyV2.Data.Volly
@model VolunteerHours

@{
    ViewData["Title"] = "Hours";
    var models = (IEnumerable<VolunteerHours>) ViewData["VolunteerHours"];
}

<div asp-validation-summary="ModelOnly" class="text-danger"></div>

<input class="form-control" id="searchInput" type="text" placeholder="Search..">
<table class="table table-bordered table-text" id="VolunteerHoursTable">
    <thead>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.User.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Application.Opportunity.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OrganizationName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Application.User.Company)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Hours)
        </th>
    </tr>
    </thead>
    <tbody>
    @foreach (var item in models)
    {
        <tr>
            <th>
                @Html.DisplayFor(modelItem => item.User.Email)
            </th>
            <th>
                @Html.DisplayFor(modelItem => item.Application.Opportunity.Name)
            </th>
            <th>
                @Html.DisplayFor(modelItem => item.OrganizationName)
            </th>
            <th>
                @Html.DisplayFor(modelItem => item.Application.User.Company)
            </th>
            <th>
                @Html.DisplayFor(modelItem => item.DateTime)
            </th>
            <th>
                @Html.DisplayFor(modelItem => item.Hours)
            </th>
        </tr>
    }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        $("#searchInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#VolunteerHoursTable tbody tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
            });
        });
    });
</script>